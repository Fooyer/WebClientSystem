<!DOCTYPE html>
<html lang="pt-br">
<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">

    <link rel="stylesheet" href="style.css">

    <title>Clientes</title>
</head>
<body>
    
    <header>
    
        <ul class="mainMenu">
    
            <li><a href="./../../" class="mainOption">Home</a></li>
    
            <li><a href="./" class="mainOption">Clientes</a></li>
    
            <li><a href="" class="mainOption">Produtos</a></li>
                
            <li><a href="" class="mainOption">Orçamentos</a></li>
    
        </ul>
    
    </header>

    <div id="caixaFormulario">
        <form action="./../data_operations/salvarCliente.php" method="get" class="formularioCliente">

            <div id="campoID">
                <label for="ID" id="labelID">ID</label>
                <input type="text" readonly name="ID" id="clienteID">
            </div>

            <div id="cambut">

                <div id="camposDados">
                    <div>
                        <label for="Nome">Nome</label>
                        <input type="text" name="Nome" id="">
                    </div>
                    <div>
                        <label for="Email">Email</label>
                        <input type="email" name="Email" id="">
                    </div>
                    <div>
                        <label for="Telefone">Telefone</label>
                        <input type="tel" name="Telefone" id="">
                    </div>
                </div>

                <div id="buttons">
                    <button type="submit" id="botaoSalvar">Salvar</button>
                    <button type="reset" id="botaoCancelar" onclick="resetForm()">Cancelar</button>
                </div>

            </div>

        </form>
    </div>

    <table class="tabelaCliente">

        <th>ID</th>
        <th>Nome</th>
        <th>Email</th>
        <th>Telefone</th>

        <?php
        
        $start = $count;

        function gerarGrid($dados) {

            foreach ($dados as $propriedade => $valor) { 
                
                $count = $count + 1;
                if ($count >= $start-5){
                
                ?>

                <tr id="linhaTabela" onclick="teste(event)">

                    <?php foreach ($valor as $propriedade2 => $valor2) { ?>

                        <td>

                            <?php echo $valor2; ?>

                        </td>

                    <?php }; ?>

                </tr>

            <?php
            }
            
            if ($count == $start + 5){
                break;
            }
        
        }};
        
        gerarGrid($dados);
        
        ?>

    </table>
    <table class="tabelaCliente">
        <tr>
            
            <td onclick="paginaSeguinte()">
                Página seguinte
            </td>

            <td>
                Página anterior
            </td>

        </tr>
    </table>

    
            <?php
            
            function paginaSeguinte(){

                $start =  $start + 5;
                gerarGrid($dados);
            }
           ?>
    


</body>
</html>

<script>

    let flagSelec = 0
    let eventoAnt = 0

    function teste(event){

        var tds = event.path[1].getElementsByTagName("td");
        var inputs = document.getElementsByClassName("formularioCliente")[0].getElementsByTagName("input");
        console.log(inputs)

        for (var i = 0; i < tds.length; i++) {

            var td = tds[i];
            var conteudo =td.textContent.trim();

            inputs[i].value = conteudo;

        }


        if (flagSelec == 0){

            event.path[1].style.background = "yellow";

            flagSelec = 1
            eventoAnt = event

        }
        else{
            
            eventoAnt.path[1].style.background = "none";

            flagSelec = 1
            eventoAnt = event
            event.path[1].style.background = "yellow";

        }

    }

    function resetForm(){

        eventoAnt.path[1].style.background = "none";
       
        flagSelec = 0
        eventoAnt = 0

    }

</script>
